import re

# Read the English file to get all the English strings as reference
with open('lib/l10n/app_localizations_en.dart', 'r', encoding='utf-8') as f:
    en_content = f.read()

# Read the Hindi file
with open('lib/l10n/app_localizations_hi.dart', 'r', encoding='utf-8') as f:
    hi_content = f.read()

# Read the Telugu file to create a mapping
with open('lib/l10n/app_localizations_te.dart', 'r', encoding='utf-8') as f:
    te_content = f.read()

# Extract all string assignments from Telugu file
te_pattern = r"String get (\w+) => '([^']+)';"
te_matches = re.findall(te_pattern, te_content)

# Extract all string assignments from English file  
en_matches = re.findall(te_pattern, en_content)

# Create English to Telugu mapping
en_to_te = {}
for key, value in en_matches:
    for te_key, te_value in te_matches:
        if key == te_key:
            en_to_te[value] = te_value
            break

# Comprehensive Telugu to Hindi translation dictionary
te_to_hi = {
    # Already done in previous script, but adding more comprehensive mappings
    'ధర్మ': 'धर्म',
    'పోర్టల్': 'पोर्टल',
    'ఆంధ్ర': 'आंध्र',
    'ప్రదేశ్': 'प्रदेश',
    'పోలీస్': 'पुलिस',
    'రికార్డులు': 'रिकॉर्ड',
    'నిర్వహణ': 'प्रबंधन',
    'విశ్లేషణ': 'विश्लेषण',
    'కోసం': 'के लिए',
    'డిజిటల్': 'डिजिटल',
    'హబ్': 'हब',
    'మరియు': 'और',
    
    # Auth
    'లాగిన్': 'लॉगिन',
    'రిజిస్టర్': 'रजिस्टर',
    'నాగరికుడు': 'नागरिक',
    'ఖాతా': 'खाता',
    'లేదా': 'नहीं है',
    'నమోదు': 'पंजीकरण',
    'చేసుకోండి': 'करें',
    'లాగ్అవుట్': 'लॉगआउट',
    'సైన్': 'साइन',
    'ఇన్': 'इन',
    'అవుట్': 'आउट',
    'పాస్‌వర్డ్': 'पासवर्ड',
    'మర్చిపోయారా': 'भूल गए',
    
    # Form fields
    'పూర్తి': 'पूरा',
    'పేరు': 'नाम',
    'ఇమెయిల్': 'ईमेल',
    'ఫోన్': 'फोन',
    'పుట్టిన': 'जन्म',
    'తేదీ': 'तिथि',
    'లింగం': 'लिंग',
    'పురుషుడు': 'पुरुष',
    'స్త్రీ': 'महिला',
    'ఇతరులు': 'अन्य',
    'తదుపరి': 'अगला',
    'మునుపటి': 'पिछला',
    'వినియోగదారు': 'उपयोगकर्ता',
    'నిర్ధారించండి': 'पुष्टि करें',
    'నంబర్': 'नंबर',
    
    # Address
    'చిరునామా': 'पता',
    'వివరాలు': 'विवरण',
    'ఇంటి': 'मकान',
    'నగరం': 'शहर',
    'పట్టణం': 'कस्बा',
    'జిల్లా': 'जिला',
    'రాష్ట్రం': 'राज्य',
    'దేశం': 'देश',
    'పిన్‌కోడ్': 'पिनकोड',
    'స్టేషన్': 'स्टेशन',
    
    # Validation
    'దయచేసి': 'कृपया',
    'కృపया': 'कृपया',
    'మీ': 'अपना',
    'నమోదు': 'दर्ज',
    'చేయండి': 'करें',
    'అక్షరాలు': 'अक्षर',
    'ఖాళీలను': 'स्थान',
    'మాత్రమే': 'केवल',
    'కలిగి': 'हो',
    'ఉండాలి': 'सकते हैं',
    'చెల్లుబాటు': 'मान्य',
    'అయ్యే': 'एक',
    'ఎంచుకోండి': 'चुनें',
    'అన్ని': 'सभी',
    'ఫీల్డ్‌లను': 'फ़ील्ड',
    'సరిగ్గా': 'सही ढंग से',
    'పూరించండి': 'भरें',
    
    # Errors
    'లోపం': 'त्रुटि',
    'వ్యక్తిగత': 'व्यक्तिगत',
    'డేటా': 'डेटा',
    'అందించబడలేదు': 'प्रदान नहीं किया गया',
    'అవసరమైన': 'आवश्यक',
    'సమాచారం': 'डेटा',
    'చెల్లని': 'अमान्य',
    'అందించబడింది': 'प्रदान किया गया',
    'వినియోగదారుని': 'उपयोगकर्ता',
    'సృష్టించడం': 'बनाने में',
    'విఫలమైంది': 'विफल',
    'విజయవంతమైంది': 'सफल',
    'ఈ': 'यह',
    'ఇప్పటికే': 'पहले से',
    'చేయబడింది': 'किया गया',
    'చెల్లదు': 'अमान्य है',
    'చాలా': 'बहुत',
    'బలహీనంగా': 'कमजोर',
    'ఉంది': 'है',
    'అనుకోని': 'अप्रत्याशित',
    'సంభవించింది': 'हुई',
    'ఫారమ్‌లోని': 'फॉर्म में',
    'లోపాలను': 'त्रुटियों को',
    'సరిచేయండి': 'ठीक करें',
    
    # Dashboard
    'CMS': 'CMS',
    'కి': 'में',
    'స్వాగతం': 'स्वागत है',
    'కేసులు': 'मामले',
    'ఫిర్యాదులు': 'शिकायतें',
    'పిటిషన్లు': 'याचिकाएं',
    'సెట్టింగ్స్': 'सेटिंग्स',
    'భాష': 'भाषा',
    'డాష్‌బోర్డ్': 'डैशबोर्ड',
    'చట్టపరమైన': 'कानूनी',
    'సహాయ': 'सहायता',
    'కేంద్రం': 'केंद्र',
    'కమాండ్': 'कमांड',
    'సెంటర్': 'सेंटर',
    'త్వరిత': 'त्वरित',
    'చర్యలు': 'कार्रवाई',
    'ఇటీవలి': 'हाल की',
    'కార్యకలాపం': 'गतिविधि',
    'లేదు': 'नहीं',
    'మొత్తం': 'कुल',
    'క్రియాశీల': 'सक्रिय',
    'మూసివేసిన': 'बंद',
    'అర్జీలు': 'याचिकाएं',
    
    # AI Chat
    'AI': 'AI',
    'చాట్‌బాట్': 'चैटबॉट',
    'పౌరుల': 'नागरिक',
    'ఫిర్యాదు': 'शिकायत',
    'రకం': 'प्रकार',
    'అధికారిక': 'औपचारिक',
    'సారాంశం': 'सारांश',
    'నేర': 'अपराध',
    'వర్గీకరణ': 'वर्गीकरण',
    'కేసు': 'मामला',
    'ఇలా': 'इस रूप में',
    'వర్గీకరించబడింది': 'वर्गीकृत है',
    'కాగ్నిజబుల్': 'संज्ञेय',
    'నాన్': 'गैर',
    'అధికారిని': 'अधिकारी से',
    'సంప్రదించండి': 'संपर्क करें',
    'డాష్‌బోర్డ్‌కి': 'डैशबोर्ड पर',
    'వెళ్లండి': 'जाएं',
    
    # AI Tools
    'చాట్': 'चैट',
    'ప్రశ్నలు': 'प्रश्न',
    'చూడండి': 'देखें',
    'చట్ట': 'कानूनी',
    'విభాగ': 'धारा',
    'సూచనలు': 'सुझाव',
    'పత్రం': 'दस्तावेज़',
    'రూపకల్పన': 'मसौदा',
    'ఆరోపణ': 'आरोपपत्र',
    'పత్రం': 'दस्तावेज़',
    'రూపకల్పన': 'निर्माण',
    'పరిశీలన': 'जांच',
    'సాక్షి': 'गवाह',
    'సిద్ధం': 'तैयारी',
    'మీడియా': 'मीडिया',
    'జర్నల్': 'जर्नल',
    'సాధనాలు': 'उपकरण',
    
    # Actions
    'కొత్త': 'नया',
    'కనుగొనబడలేదు': 'नहीं मिला',
    'సేవ్': 'सहेजी गई',
    'న్యాయ': 'कानूनी',
    'సహాయకుడు': 'सहायक',
    'సందేశం': 'संदेश',
    'టైప్': 'टाइप',
    'అడగండి': 'पूछें',
    'ఆధారిత': 'संचालित',
    'సమాధానాలు': 'उत्तर',
    'పొందండి': 'प्राप्त करें',
    'సమర్పించు': 'सबमिट करें',
    'ఇక్కడ': 'यहां',
    'ఇంకా': 'अभी तक',
    'పైన': 'ऊपर',
    'మొదటి': 'पहला',
    
    # Common actions
    'రద్దు': 'रद्द',
    'తొలగించు': 'हटाएं',
    'సవరించు': 'संपादित करें',
    'మూసివేయండి': 'बंद करें',
    'శోధన': 'खोजें',
    'ఫిల్టర్': 'फ़िल्टर',
    'నోటిఫికేషన్లు': 'सूचनाएं',
    'డార్క్': 'डार्क',
    'మోడ్': 'मोड',
    'గురించి': 'के बारे में',
    'గోప్యతా': 'गोपनीयता',
    'విధానం': 'नीति',
    'సేవా': 'सेवा की',
    'నిబంధనలు': 'शर्तें',
    'ప్రొఫైల్': 'प्रोफ़ाइल',
    'మీరు': 'क्या आप',
    'చేయాలనుకుంటున్నారా': 'चाहते हैं',
    
    # Critical chat strings
    'ఫీచర్‌ను': 'सुविधा का',
    'ఉపయోగించాలనుకుంటున్నారా': 'उपयोग करना चाहते हैं',
    'ఉపయోగించు': 'उपयोग करें',
    'దాటవేయండి': 'छोड़ें',
    'ఏమిటి': 'क्या है',
    'ఎక్కడ': 'कहां',
    'నివసిస్తున్నారు': 'रहते हैं',
    'ప్రదేశం': 'स్थान',
    'ప్రాంతం': 'क्षेत्र',
    'ఏ': 'किस',
    'రకమైన': 'प्रकार की',
    'ఫైల్': 'दर्ज',
    'దొంగతనం': 'चोरी',
    'వేధింపులు': 'उत्पीड़न',
    'కనిపించకపోవడం': 'लापता व्यक्ति',
    'మొదలైనవి': 'आदि',
    'వివరంగా': 'विस्तार से',
    'వివరించండి': 'वर्णन करें',
    'లోడవుతోంది': 'लोड हो रहा है',
    'సమాధానాన్ని': 'उत्तर',
    'వాయిస్': 'वॉइस',
    'ఇన్‌పుట్': 'इनपुट',
    'త్వరలో': 'जल्द',
    'వస్తోంది': 'आ रहा है',
    'క్షమించండి': 'क्षमा करें',
    'ఏమో': 'कुछ',
    'తప్పు': 'गलत',
    'జరిగింది': 'हो गया',
    'తదుపరి': 'बाद में',
    'ప్రయత్నించండి': 'पुनः प्रयास करें',
    
    # Petitions
    'ప్రాథమిక': 'बुनियादी',
    'అవసరం': 'आवश्यक',
    'చేతితో': 'हस्तलिखित',
    'రాసిన': 'दस्तावेज़',
    'పత్రాలు': 'दस्तावेज़',
    'అప్‌లోడ్': 'अपलोड',
    'సంగ్రహించిన': 'निकाला गया',
    'వచనం': 'पाठ',
    'సృష్టించండి': 'बनाएं',
    'విజయవంతంగా': 'सफलतापूर्वक',
    'సృష్టించబడింది': 'बनाई गई',
    'నుండి': 'से',
    'యాచికాకర్త': 'याचिकाकर्ता',
    'FIR': 'FIR',
    'సంఖ్య': 'संख्या',
    'కారణాలు': 'आधार',
    'ప్రార్థన': 'प्रार्थना',
    'ఉపశమనం': 'राहत',
    'కోరింది': 'मांगी गई',
    'దాఖలు': 'दाखिल करने की',
    'విచారణ': 'सुनवाई',
    'ఆర్డర్': 'आदेश',
    
    # Legal tools
    'సెక్షన్': 'धारा',
    'సూచనకర్త': 'सुझावकर्ता',
    'సంఘటన': 'घटना',
    'రూపొందించండి': 'उत्पन्न करें',
    'ప్రసంస్కరణ': 'प्रसंस्करण',
    'సూచించిన': 'सुझाई गई',
    'విభాగాలు': 'धाराएं',
    'ఎటువంటి': 'कोई',
    'కారణం': 'तर्क',
    
    # Document drafting
    'డాక్యుమెంట్': 'दस्तावेज़',
    'డ్రాఫ్టర్': 'मसौदाकार',
    'గ్రహీత': 'प्राप्तकर्ता',
    'వైద్య': 'चिकित्सा',
    'అధికారి': 'अधिकारी',
    'ఫోరెన్సిక్': 'फोरेंसिक',
    'నిపుణుడు': 'विशेषज्ञ',
    'డ్రాఫ్ట్': 'मसौदा',
    'చిత్తుప్రతి': 'मसौदा',
    'చేస్తోంది': 'तैयार कर रहे हैं',
    'రూపొందించిన': 'उत्पन्न',
    'క్లిప్‌బోర్డ్‌కు': 'क्लिपबोर्ड पर',
    'కాపీ': 'कॉपी',
    'చేయబడింది': 'किया गया',
    
    # Chargesheet
    'ఛార్జ్‌షీట్': 'आरोपपत्र',
    'జనరేటర్': 'निर्माता',
    'సాక్ష్యాల': 'साक्ष्य',
    'కంటెంట్': 'सामग्री',
    'తనిఖీ': 'जांच',
    'ఫైల్‌లను': 'फ़ाइलें',
    'రూపొందిస్తోంది': 'उत्पन्न कर रहे हैं',
    
    # Witness
    'తయారీ': 'तैयारी',
    'ప్రకటన': 'बयान',
    'తయారు': 'तैयार',
    
    # Status
    'స్థితి': 'स्थिति',
    'వివరణ': 'विवरण',
    
    # Numbers and common words
    '10': '10',
    '6': '6',
    '4': '4',
    'YYYY': 'YYYY',
    'MM': 'MM',
    'DD': 'DD',
    '.doc': '.doc',
    '.docx': '.docx',
    '.pdf': '.pdf',
    '.txt': '.txt',
    'DNA': 'DNA',
    'OCR': 'OCR',
    'BNS': 'BNS',
    'BNSS': 'BNSS',
    'BSA': 'BSA',
}

# Apply replacements - do multiple passes to catch compound words
for i in range(3):  # Multiple passes
    for telugu, hindi in te_to_hi.items():
        hi_content = hi_content.replace(telugu, hindi)

# Write back
with open('lib/l10n/app_localizations_hi.dart', 'w', encoding='utf-8') as f:
    f.write(hi_content)

# Count remaining Telugu characters
remaining_telugu = len(re.findall(r'[\u0c00-\u0c7f]+', hi_content))
print(f"Replaced Telugu strings. Remaining Telugu characters: {remaining_telugu}")
